<div class="card mb-3">
  <h2 class="card-header h4">
    Message #<%= message.id %>
  </h2>

  <div class="card-body">
    <dl class="mb-1">
      <dt>Sender user</dt>
      <!-- Display sender_user_id start -->
      <dd>
        <% if @message.sender_user.present? %>
          <%= link_to message.sender_user, message.sender_user %>
        <% end %>
      </dd>
      <!-- Display sender_user_id end -->

      <dt>Message</dt>
      <!-- Display message start -->
      <dd><%= message.message %></dd>
      <!-- Display message end -->

      <dt>Item</dt>
      <!-- Display item_id start -->
      <dd>
        <% if @message.item.present? %>
          <%= link_to message.item, message.item %>
        <% end %>
      </dd>
      <!-- Display item_id end -->

    </dl>

    <div class="row">
      <div class="col">
        <%= link_to_show_or_back message, '<i class="fas fa-search-plus"></i>'.html_safe, '<i class="fas fa-chevron-left"></i>'.html_safe, class: "btn btn-block btn-outline-secondary" %>
      </div>

      <!-- Edit link message start -->
      <div class="col">
        <% if current_user == @message.sender_user %>
          <%= link_to edit_message_url(message), class: "btn btn-block btn-sm btn-outline-secondary" do %>
            <i class="fas fa-edit"></i>
          <% end %>
        <% end %>
      </div>
      <!-- Edit link message end -->

      <!-- Delete link message start -->
      <div class="col">
        <% if current_user == @message.sender_user %>
          <%= link_to message, method: :delete, data: { confirm: "Do you really want to delete this message?" }, class: "btn btn-block btn-outline-secondary" do %>
            <i class="fas fa-trash-alt"></i>
          <% end %>
        <% end %>
      </div>
      <!-- Delete link message end -->
    </div>
  </div>

  <div class="card-footer text-muted">
    Last updated <%= time_ago_in_words(message.updated_at) %> ago
  </div>
</div>
